{"remainingRequest":"/Users/wujian/2019项目/bss3/ued/big-screen/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wujian/2019项目/bss3/ued/big-screen/src/components/managerPanel.vue?vue&type=style&index=0&lang=scss&module=true&","dependencies":[{"path":"/Users/wujian/2019项目/bss3/ued/big-screen/src/components/managerPanel.vue","mtime":1564995502884},{"path":"/Users/wujian/2019项目/bss3/ued/big-screen/node_modules/css-loader/index.js","mtime":1563933943836},{"path":"/Users/wujian/2019项目/bss3/ued/big-screen/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1564995542110},{"path":"/Users/wujian/2019项目/bss3/ued/big-screen/node_modules/postcss-loader/src/index.js","mtime":1563933937462},{"path":"/Users/wujian/2019项目/bss3/ued/big-screen/node_modules/sass-loader/lib/loader.js","mtime":1563933939739},{"path":"/Users/wujian/2019项目/bss3/ued/big-screen/node_modules/cache-loader/dist/cjs.js","mtime":1564995541627},{"path":"/Users/wujian/2019项目/bss3/ued/big-screen/node_modules/vue-loader/lib/index.js","mtime":1564995542110}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.commandrow{\n    margin-bottom:rem(10);\n}\n.commandrow:hover{\n    background-color: #F00;\n}\n",{"version":3,"sources":["managerPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA","file":"managerPanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <el-container v-for=\"(item,index) in commanddata\"\n                    :key=\"index\">\n            <el-main>{{item.appname}}\n                <div v-for=\"(itemstep,stepindex) in item.steps\"\n                        :key=\"stepindex\">\n                        指令分组：{{itemstep.stepname}}\n                    <el-row :class=\"$style.commandrow\" v-for=\"(cmd,cmdindex) in itemstep.commands\"\n                        :key=\"cmdindex\">\n                        <el-col :span=\"10\">指令：{{cmd.id}} {{cmd.name}} </el-col>\n\n                        <el-col :span=\"14\">\n                        开始时间：\n                        <input type=\"text\" v-model=\"cmd.begin\">\n                        结束时间：\n                        <input type=\"text\" v-model=\"cmd.end\">\n                        <el-button size=\"small\" v-on:click=\"buttonsetbegin(cmd)\">设置现在开始</el-button>\n                        <el-button size=\"small\" v-on:click=\"buttonsetend(cmd)\">设置现在结束</el-button>\n                        <el-button size=\"small\" v-on:click=\"buttonsave(index)\">保存</el-button>\n                        </el-col>\n                    </el-row>\n                </div>\n            </el-main>\n        </el-container>\n    </div>\n</template>\n\n\n<script>\nimport api from \"../services\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"managerPanel\",\n  props: {\n    title: String,\n    className: String,\n  },\n  methods:{\n    buttonsave(i){\n        //将当前数据直接序列化后推出去\n        //由KOA后端进行stringify并写入文件\n        let appkey = this.appkey[i];\n        if(appkey){\n            api.setCommandState({appkey:appkey,data:this.commanddata[i]});\n        }\n    },\n    buttonsetbegin(cmd){\n        cmd.begin = moment().format('YYYY-MM-DD HH:mm:ss');\n    },\n    buttonsetend(cmd){\n        cmd.end = moment().format('YYYY-MM-DD HH:mm:ss');\n    }\n  },\n  data() {\n     return {\n         commanddata:[]\n     };\n  },\n  mounted(){\n      let key = [\"bss3\",\"charge\",\"market\",\"wechat\",\"Portal\",\"Integral\",\"EDA\",\"message\",\"netBusiness\",\"Complain\",\"resources\",\"ServiceOpen\",\"ODS\"];\n      this.appkey = key;\n      api.getControlData(key).then((reply)=>{\n          this.commanddata = reply;\n      });\n  }\n}\n</script>\n\n<style lang=\"scss\" module>\n.commandrow{\n    margin-bottom:rem(10);\n}\n.commandrow:hover{\n    background-color: #F00;\n}\n</style>"]}]}