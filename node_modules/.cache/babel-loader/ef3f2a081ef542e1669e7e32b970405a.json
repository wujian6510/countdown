{"remainingRequest":"/Users/wujian/2019项目/demo/countdown/node_modules/babel-loader/lib/index.js!/Users/wujian/2019项目/demo/countdown/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wujian/2019项目/demo/countdown/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wujian/2019项目/demo/countdown/src/components/managerPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wujian/2019项目/demo/countdown/src/components/managerPanel.vue","mtime":1564995502884},{"path":"/Users/wujian/2019项目/demo/countdown/node_modules/cache-loader/dist/cjs.js","mtime":1564995541627},{"path":"/Users/wujian/2019项目/demo/countdown/node_modules/babel-loader/lib/index.js","mtime":1564995537574},{"path":"/Users/wujian/2019项目/demo/countdown/node_modules/cache-loader/dist/cjs.js","mtime":1564995541627},{"path":"/Users/wujian/2019项目/demo/countdown/node_modules/vue-loader/lib/index.js","mtime":1564995542110}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from \"../services\";\nimport moment from \"moment\";\nexport default {\n  name: \"managerPanel\",\n  props: {\n    title: String,\n    className: String\n  },\n  methods: {\n    buttonsave: function buttonsave(i) {\n      //将当前数据直接序列化后推出去\n      //由KOA后端进行stringify并写入文件\n      var appkey = this.appkey[i];\n\n      if (appkey) {\n        api.setCommandState({\n          appkey: appkey,\n          data: this.commanddata[i]\n        });\n      }\n    },\n    buttonsetbegin: function buttonsetbegin(cmd) {\n      cmd.begin = moment().format('YYYY-MM-DD HH:mm:ss');\n    },\n    buttonsetend: function buttonsetend(cmd) {\n      cmd.end = moment().format('YYYY-MM-DD HH:mm:ss');\n    }\n  },\n  data: function data() {\n    return {\n      commanddata: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var key = [\"bss3\", \"charge\", \"market\", \"wechat\", \"Portal\", \"Integral\", \"EDA\", \"message\", \"netBusiness\", \"Complain\", \"resources\", \"ServiceOpen\", \"ODS\"];\n    this.appkey = key;\n    api.getControlData(key).then(function (reply) {\n      _this.commanddata = reply;\n    });\n  }\n};",{"version":3,"sources":["managerPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,GAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA,MADA;AAEA,IAAA,SAAA,EAAA;AAFA,GAFA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,CADA,EACA;AACA;AACA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA,CAAA,CAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,QAAA,GAAA,CAAA,eAAA,CAAA;AAAA,UAAA,MAAA,EAAA,MAAA;AAAA,UAAA,IAAA,EAAA,KAAA,WAAA,CAAA,CAAA;AAAA,SAAA;AACA;AACA,KARA;AASA,IAAA,cATA,0BASA,GATA,EASA;AACA,MAAA,GAAA,CAAA,KAAA,GAAA,MAAA,GAAA,MAAA,CAAA,qBAAA,CAAA;AACA,KAXA;AAYA,IAAA,YAZA,wBAYA,GAZA,EAYA;AACA,MAAA,GAAA,CAAA,GAAA,GAAA,MAAA,GAAA,MAAA,CAAA,qBAAA,CAAA;AACA;AAdA,GANA;AAsBA,EAAA,IAtBA,kBAsBA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GA1BA;AA2BA,EAAA,OA3BA,qBA2BA;AAAA;;AACA,QAAA,GAAA,GAAA,CAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,KAAA,EAAA,SAAA,EAAA,aAAA,EAAA,UAAA,EAAA,WAAA,EAAA,aAAA,EAAA,KAAA,CAAA;AACA,SAAA,MAAA,GAAA,GAAA;AACA,IAAA,GAAA,CAAA,cAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,KAFA;AAGA;AAjCA,CAAA","sourcesContent":["<template>\n    <div>\n        <el-container v-for=\"(item,index) in commanddata\"\n                    :key=\"index\">\n            <el-main>{{item.appname}}\n                <div v-for=\"(itemstep,stepindex) in item.steps\"\n                        :key=\"stepindex\">\n                        指令分组：{{itemstep.stepname}}\n                    <el-row :class=\"$style.commandrow\" v-for=\"(cmd,cmdindex) in itemstep.commands\"\n                        :key=\"cmdindex\">\n                        <el-col :span=\"10\">指令：{{cmd.id}} {{cmd.name}} </el-col>\n\n                        <el-col :span=\"14\">\n                        开始时间：\n                        <input type=\"text\" v-model=\"cmd.begin\">\n                        结束时间：\n                        <input type=\"text\" v-model=\"cmd.end\">\n                        <el-button size=\"small\" v-on:click=\"buttonsetbegin(cmd)\">设置现在开始</el-button>\n                        <el-button size=\"small\" v-on:click=\"buttonsetend(cmd)\">设置现在结束</el-button>\n                        <el-button size=\"small\" v-on:click=\"buttonsave(index)\">保存</el-button>\n                        </el-col>\n                    </el-row>\n                </div>\n            </el-main>\n        </el-container>\n    </div>\n</template>\n\n\n<script>\nimport api from \"../services\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"managerPanel\",\n  props: {\n    title: String,\n    className: String,\n  },\n  methods:{\n    buttonsave(i){\n        //将当前数据直接序列化后推出去\n        //由KOA后端进行stringify并写入文件\n        let appkey = this.appkey[i];\n        if(appkey){\n            api.setCommandState({appkey:appkey,data:this.commanddata[i]});\n        }\n    },\n    buttonsetbegin(cmd){\n        cmd.begin = moment().format('YYYY-MM-DD HH:mm:ss');\n    },\n    buttonsetend(cmd){\n        cmd.end = moment().format('YYYY-MM-DD HH:mm:ss');\n    }\n  },\n  data() {\n     return {\n         commanddata:[]\n     };\n  },\n  mounted(){\n      let key = [\"bss3\",\"charge\",\"market\",\"wechat\",\"Portal\",\"Integral\",\"EDA\",\"message\",\"netBusiness\",\"Complain\",\"resources\",\"ServiceOpen\",\"ODS\"];\n      this.appkey = key;\n      api.getControlData(key).then((reply)=>{\n          this.commanddata = reply;\n      });\n  }\n}\n</script>\n\n<style lang=\"scss\" module>\n.commandrow{\n    margin-bottom:rem(10);\n}\n.commandrow:hover{\n    background-color: #F00;\n}\n</style>"],"sourceRoot":"src/components"}]}